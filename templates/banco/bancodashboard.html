{% extends "base.html" %}

{% block title %}Panel del Banco - PoliCard{% endblock %}

{% block content %}
<div class="mb-8">
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-4xl font-bold text-gray-800">
                <i class="fas fa-building text-blue-600 mr-3"></i>{{ banco.nombre_banco }}
            </h1>
            <p class="text-gray-600 mt-2">Bienvenido, {{ session.user_name }}</p>
        </div>
        <div>
            {% if banco.aprobado %}
                <span class="bg-green-100 text-green-700 px-6 py-3 rounded-full font-semibold inline-flex items-center">
                    <i class="fas fa-check-circle mr-2"></i>Banco Aprobado
                </span>
            {% else %}
                <span class="bg-yellow-100 text-yellow-700 px-6 py-3 rounded-full font-semibold inline-flex items-center">
                    <i class="fas fa-clock mr-2"></i>Pendiente de Aprobación
                </span>
            {% endif %}
        </div>
    </div>
</div>

{% if not banco.aprobado %}
    <div class="mb-8 bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-lg shadow-md">
        <div class="flex items-center">
            <i class="fas fa-exclamation-triangle text-3xl text-yellow-600 mr-4"></i>
            <div>
                <h3 class="text-xl font-bold text-yellow-800 mb-2">Tu banco está en revisión</h3>
                <p class="text-yellow-700">Nuestro equipo está revisando tu solicitud. Podrás publicar tarjetas una vez que tu banco sea aprobado.</p>
            </div>
        </div>
    </div>
{% endif %}

<!-- Estadísticas -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white rounded-2xl shadow-xl p-6 transform hover:scale-105 transition">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-blue-100 text-sm font-medium">Tarjetas Totales</p>
                <p class="text-4xl font-bold mt-2">{{ stats.tarjetas_count }}</p>
            </div>
            <i class="fas fa-credit-card text-5xl opacity-20"></i>
        </div>
    </div>

    <div class="bg-gradient-to-br from-green-500 to-green-700 text-white rounded-2xl shadow-xl p-6 transform hover:scale-105 transition">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-green-100 text-sm font-medium">Tarjetas Aprobadas</p>
                <p class="text-4xl font-bold mt-2">{{ stats.tarjetas_aprobadas }}</p>
            </div>
            <i class="fas fa-check-circle text-5xl opacity-20"></i>
        </div>
    </div>

    <div class="bg-gradient-to-br from-yellow-500 to-yellow-700 text-white rounded-2xl shadow-xl p-6 transform hover:scale-105 transition">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-yellow-100 text-sm font-medium">Solicitudes Pendientes</p>
                <p class="text-4xl font-bold mt-2">{{ stats.solicitudes_pendientes }}</p>
            </div>
            <i class="fas fa-hourglass-half text-5xl opacity-20"></i>
        </div>
    </div>

    <div class="bg-gradient-to-br from-purple-500 to-purple-700 text-white rounded-2xl shadow-xl p-6 transform hover:scale-105 transition">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-purple-100 text-sm font-medium">Estado del Banco</p>
                <p class="text-xl font-bold mt-2">{% if banco.aprobado %}Activo{% else %}En Revisión{% endif %}</p>
            </div>
            <i class="fas fa-{% if banco.aprobado %}check-circle{% else %}clock{% endif %} text-5xl opacity-20"></i>
        </div>
    </div>
</div>

<!-- Acciones Rápidas -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <a href="{{ url_for('banco_tarjetas') }}" class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition transform hover:-translate-y-1 border-l-4 border-blue-500">
        <div class="flex items-center mb-4">
            <div class="bg-blue-100 p-4 rounded-full">
                <i class="fas fa-credit-card text-3xl text-blue-600"></i>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 ml-4">Mis Tarjetas</h3>
        </div>
        <p class="text-gray-600">Gestiona todas tus tarjetas de crédito publicadas</p>
        <div class="mt-4 text-blue-600 font-semibold">
            Ver todas <i class="fas fa-arrow-right ml-2"></i>
        </div>
    </a>

    {% if banco.aprobado %}
        <a href="{{ url_for('banco_nueva_tarjeta') }}" class="bg-gradient-to-br from-green-500 to-green-700 text-white rounded-2xl shadow-lg p-8 hover:shadow-2xl transition transform hover:-translate-y-1">
            <div class="flex items-center mb-4">
                <div class="bg-white bg-opacity-20 p-4 rounded-full">
                    <i class="fas fa-plus-circle text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold ml-4">Nueva Tarjeta</h3>
            </div>
            <p class="text-green-100">Publica una nueva tarjeta de crédito</p>
            <div class="mt-4 font-semibold">
                Crear ahora <i class="fas fa-arrow-right ml-2"></i>
            </div>
        </a>
    {% else %}
        <div class="bg-gray-100 rounded-2xl shadow-lg p-8 border-l-4 border-gray-400 opacity-60">
            <div class="flex items-center mb-4">
                <div class="bg-gray-300 p-4 rounded-full">
                    <i class="fas fa-lock text-3xl text-gray-600"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-600 ml-4">Nueva Tarjeta</h3>
            </div>
            <p class="text-gray-600">Disponible una vez aprobado tu banco</p>
        </div>
    {% endif %}
</div>

<!-- Información del Banco -->
<div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
    <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-blue-600 pb-3">
        <i class="fas fa-info-circle text-blue-600 mr-2"></i>Información del Banco
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
            <p class="text-sm text-gray-600 mb-1">Nombre del Banco</p>
            <p class="text-lg font-semibold text-gray-800">{{ banco.nombre_banco }}</p>
        </div>
        <div>
            <p class="text-sm text-gray-600 mb-1">Email de Contacto</p>
            <p class="text-lg font-semibold text-gray-800">{{ banco.usuario.email }}</p>
        </div>
        <div>
            <p class="text-sm text-gray-600 mb-1">Teléfono</p>
            <p class="text-lg font-semibold text-gray-800">{{ banco.telefono }}</p>
        </div>
        {% if banco.sitio_web %}
        <div>
            <p class="text-sm text-gray-600 mb-1">Sitio Web</p>
            <a href="{{ banco.sitio_web }}" target="_blank" class="text-lg font-semibold text-blue-600 hover:underline">
                {{ banco.sitio_web }}
            </a>
        </div>
        {% endif %}
        {% if banco.descripcion %}
        <div class="md:col-span-2">
            <p class="text-sm text-gray-600 mb-1">Descripción</p>
            <p class="text-gray-800">{{ banco.descripcion }}</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}